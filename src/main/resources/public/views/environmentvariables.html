<form editable-form name="tableform" onaftersave="saveAll()" oncancel="cancel()">
    <table class="table table-bordered table-hover table-condensed">
        <tr>
            <th>
                #
            </th>
            <th>
                Name
            </th>
            <th>
                Value
            </th>
            <th ng-show="tableform.$visible">
                Action
            </th>
        </tr>

        <tr ng-repeat="environmentvariable in environmentvariables | filter:filterEnvironmentVariable">
            <td>{{$index+1}}</td>
            <td>
            <span editable-text="environmentvariable.name" e-name="name" e-form="tableform" e-required e-ng-paste="onPaste($event,environmentvariable)">
            {{environmentvariable.name}}
            </span>
            </td>
            <td>
            <span editable-text="environmentvariable.value" e-name="value" e-form="tableform" e-required>
            {{environmentvariable.value}}
            </span>
            </td>
            <td ng-show="tableform.$visible">
                <button type="button" ng-click="deleteEnvironmentVariable(environmentvariable.id || environmentvariable.tempId)" class="btn btn-danger pull-right">
                    Delete
                </button>
            </td>
    </table>
    <div class="btn-edit">
        <button type="button" class="btn btn-default" ng-show="!tableform.$visible" ng-click="tableform.$show()">
            Edit
        </button>
    </div>
    <div class="btn-form" ng-show="tableform.$visible">
        <button type="button" ng-disabled="tableform.$waiting" ng-click="addEnvironmentVariable()"
                class="btn btn-default pull-right">Add
        </button>
        <button type="submit" ng-disabled="tableform.$waiting" class="btn btn-primary">Save</button>
        <button type="button" ng-disabled="tableform.$waiting" ng-click="tableform.$cancel()" class="btn btn-default">
            Cancel
        </button>
    </div>

</form>